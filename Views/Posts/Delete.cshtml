@model finalprojectv2.Models.Post
@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager
@using System.Globalization

@{
    ViewData["Title"] = "Delete";
}
@if (SignInManager.IsSignedIn(User) && @User.Identity.Name == this.Model.User)
{
    <h1 style='color:whitesmoke'>Delete</h1>
    <h3 style='color:whitesmoke'>Are you sure you want to delete this?</h3>
    <div style='background-color:whitesmoke!important' class='container p-4'>
        <div>
            <h4>Post</h4>
            <hr />
            <dl class="row">
                <dt class = "col-sm-2">
                    @Html.DisplayNameFor(model => model.Title)
                </dt>
                <dd class = "col-sm-10">
                    @Html.DisplayFor(model => model.Title)
                </dd>
                <dt class = "col-sm-2">
                    @Html.DisplayNameFor(model => model.Content)
                </dt>
                <dd class = "col-sm-10">
                    @Html.DisplayFor(model => model.Content)
                </dd>
                <dt class = "col-sm-2">
                    @Html.DisplayNameFor(model => model.User)
                </dt>
                <dd class = "col-sm-10">
                    @Html.DisplayFor(model => model.User)
                </dd>
            </dl>
            
            <form asp-action="Delete">
                <input type="hidden" asp-for="Id" />
                <input type="submit" value="Delete" class="btn btn-danger" /> |
                <a asp-controller='Home' asp-action="Index">Back to List</a>
            </form>
        </div>
    </div>
}
else{
    <h1 style='color:red'>You do not have permission to delete this user's posts!</h1>
}